<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf">

    <f:view contentType="text/html">
        <h:head>
            <title>Trang Cá Nhân</title>
        </h:head>
        <h:body>
            <ui:composition template="Template/templateCaNhan.xhtml">

                <ui:define name="tieu-de">
                    <h3 style="text-align: center; color: #444; margin-bottom: 0px">Trang Cá Nhân</h3>
                </ui:define>

                <ui:define name="noi-dung">
                    <script>
                        $("#update_infor").on('click', 'input', function () {
                            $(this).next().remove("div[class*='ui-message']");
                            return;
                        });
                    </script>
                    <div class="col-md-6" >
                        <div style="margin-top: 20px" id="update_infor">
                            <p:accordionPanel multiple="true">
                                <p:tab title="Thông tin cá nhân ">
                                    <h:panelGrid columns="2" cellpadding="10">
                                        <h:outputText
                                            value="- #{beanNguoiDung.taiKhoanDangNhap.hoTen} có thể chỉnh sửa thông tin cá nhân của mình ở đây!" />
                                    </h:panelGrid>
                                    <h:form>
                                        <div style="padding-left: 10%; padding-right: 10%; padding-top: 10px;">

                                            <p:outputLabel value="Tài Khoản"/>
                                            <p:inputText style="width: 100%" readonly="true" value="#{beanNguoiDung.taiKhoanDangNhap.tenTaiKhoan}" placeholder="Tên Tên Khoản ..."/>


                                            <p:outputLabel value="Họ Tên"/>
                                            <p:inputText id="hoTen" style="width: 100%" value="#{beanNguoiDung.taiKhoanDangNhap.hoTen}" placeholder="Tên của bạn ..."/>
                                            <p:message for="hoTen" />
                                            <div style="margin: 10px 0px 0px 0px">
                                                <p:outputLabel value="Giới Tính"/>
                                                <p:selectBooleanCheckbox value="#{beanNguoiDung.taiKhoanDangNhap.gioiTinh}" style="margin: 0 15px 0 15px"/>
                                                <span>Tích vào nếu là Nam</span>
                                            </div>
                                            <p:outputLabel value="Số Điện Thoại"/>
                                            <p:inputText id="sdt" style="width: 100%" value="#{beanNguoiDung.taiKhoanDangNhap.soDienThoai}" placeholder="Số điện thoại ..."/>
                                            <p:message for="sdt" />
                                            <p:outputLabel value="Email"/>
                                            <p:inputText id="email" style="width: 100%" value="#{beanNguoiDung.taiKhoanDangNhap.email}" placeholder="Email ..."/>
                                            <p:message for="email" />
                                        </div>
                                        <div style="margin-top: 20px; float: right;">
                                            <p:commandButton action="#{beanNguoiDung.capNhatThongTin()}" update="@form msg head-dangnhap" value="Cập Nhật"></p:commandButton>
                                        </div>
                                    </h:form>
                                </p:tab>
                                <p:tab title="Đổi mật khẩu">
                                    <h:panelGrid columns="2" cellpadding="10">
                                        <h:outputText value="- Bạn có thể thay đổi mật khẩu ở đây !" />
                                        <br/>
                                        <h:panelGroup>
                                            <h:outputText value="- Chú ý" style="font-weight:bold;" />
                                            <h:outputText value=": Bạn nên nhớ tài khoản . Mật khẩu lớn hợn 8 ký tự !"/>
                                        </h:panelGroup>
                                    </h:panelGrid>
                                    <h:form>
                                        <div  style="padding-left: 10%; padding-right: 10%; padding-top: 10px;">
                                            <p:outputLabel value="Mật Khẩu Hiện Tại"/><br/>
                                            <p:password id="matKhau"  style="width: 100% " value="#{beanNguoiDung.matKhauMoi.matKhau}" placeholder="***********" />
                                            <p:message for="matKhau" />
                                            <p:outputLabel value="Mật Khẩu Mới"/>
                                            <p:password id="matKhauMoi" style="width: 100%" match="xacThucMatKhau" label="Mật khẩu không trùng khớp ( "    value="#{beanNguoiDung.matKhauMoi.matKhauMoi}"  placeholder="**********" />
                                            <p:message for="matKhauMoi"  />
                                            <p:outputLabel value="Nhập lại Mật Khẩu"/>
                                            <p:password id="xacThucMatKhau" style="width: 100%" label=")" value="#{beanNguoiDung.matKhauMoi.xacThucMatKhau}"  placeholder="**********" />
                                            <p:message for="xacThucMatKhau"  />
                                        </div>
                                        <div style="margin-top: 20px; float: right;">
                                            <p:commandButton action="#{beanNguoiDung.doiMatKhau()}" update="@form msg head-dangnhap" value="Cập Nhật"></p:commandButton>
                                        </div>

                                    </h:form>
                                </p:tab>

                            </p:accordionPanel>
                        </div>
                    </div>
                    <style> 
                        #update_infor  label{
                            margin-top: 10px;
                        }

                    </style>
                    <div class="col-md-3">
                        <div style="margin-top: 20px">
                            <div style="margin: 0 0 5px 10px; color: #0072C7">&#9734; Gợi ý cho bạn</div>
                            <div style="border-radius: 3px; border: 1px solid #c0c0c0; margin-bottom: 20px">
                                <div style="width: 100%; height: 230px; border-radius: 3px; background: linear-gradient(transparent 70%, black), url(Content/Images/KhachSan/#{beanNguoiDung.khachSanGoiY.id}.jpg); background-size: 200%; background-repeat: no-repeat; background-position: center">
                                </div>
                                <div style="position: relative; top: -30px; left: 20px; color: white; font-size: 16px">
                                    #{beanNguoiDung.khachSanGoiY.ten}
                                </div>
                                <h:form>
                                    <div style="margin: -10px 10px 0 10px; text-align: center">
                                        Một trong những khách sạn tuyệt vời nhất của chúng tôi!
                                        <h:commandButton class="btn-datngay" style="margin: 10px 0 16px;" action = "#{beanNavigation.thongTinKhachSan(beanNguoiDung.khachSanGoiY.id)}" value="Đặt ngay"/>
                                    </div>
                                </h:form>
                            </div>
                            <div style="border-radius: 3px; background-color: #E9F0FA; border: 1px solid #CCE1FF; padding: 10px 12px 10px 12px; margin-bottom: 20px; font-size: 13px">
                                Kiếm thêm thu nhập bằng cách đăng ký chỗ nghỉ trên QLKS, dù đó là nhà, khách sạn hay bất cứ kiểu chỗ nghỉ nào.<br/>
                                <a href="#" style="font-weight: bold">Tìm hiểu thêm</a>
                                <hr style="border: none; height: 1px; background-color: #CCE1FF; margin-top: 8px; margin-bottom: 8px"/>
                                Tìm phòng giá thấp? Chúng tôi có cả một trang dành riêng để giúp bạn tìm được ưu đãi tuyệt vời ở mọi nơi bạn muốn.<br/>
                                <a href="#" style="font-weight: bold">Tiết lộ ưu đãi</a>
                            </div>
                        </div>
                    </div>
                </ui:define>
            </ui:composition>
        </h:body>
    </f:view>
</html>

